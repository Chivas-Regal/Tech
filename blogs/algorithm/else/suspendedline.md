---
key: 2021-11-29-xuanxianfa
layout: article
title: æ‚¬çº¿æ³•
subtitle: æ‰¾æœ€å¤§çš„çŸ©é˜µï¼ŸðŸ¤”
categories: åŠ¨æ€è§„åˆ’
tags: [åŠ¨æ€è§„åˆ’]
aside:
  toc: true
sidebar:
  nav: docs-en
---

# å¯¼å¼•é—®é¢˜  
ä¸€ä¸ª $01$ çŸ©é˜µï¼Œæ±‚æœ€å¤§çš„å…¨ä¸º $1$ çš„å­çŸ©é˜µ   

# æ‚¬çº¿æ³•

## ä½œç”¨

æ±‚æ»¡è¶³æŸä¸ªæž„é€ æ¡ä»¶çš„æœ€å¤§çš„å­çŸ©é˜µ

## æ€æƒ³

å¯¹äºŽæ¯ä¸ªæ»¡è¶³è¦æ±‚çš„å­çŸ©é˜µï¼Œéƒ½æœ‰ä¸€ä¸ªåº•è¾¹ï¼Œåº•è¾¹ä¸Šå¿…å®šä¼šå­˜åœ¨ç‚¹  
é‚£ä¹ˆæˆ‘ä»¬å°±æ±‚ä¸€ä¸‹ä»¥æ¯ä¸ªç‚¹ä½œä¸ºåº•è¾¹ä¸ŠæŸä¸ªç‚¹çš„æ—¶å€™ï¼Œå¯ä»¥å½¢æˆçš„æœ€å¤§æ»¡è¶³è¦æ±‚çš„çŸ©é˜µ  
å¯¹äºŽæ¯ä¸€ä¸ªç‚¹ $(i,j)$ ï¼Œæˆ‘ä»¬ç”¨ä¸€æ ¹ç«–ç€çš„çº¿ï¼ˆé«˜åº¦ä¸ºçºµå‘æ»¡è¶³è¦æ±‚çš„æœ€é«˜ç‚¹ï¼‰å¾€å·¦å³ç§»åŠ¨ï¼Œç›´åˆ°ç§»åŠ¨åˆ°æœ€å¤§çš„æ»¡è¶³è¦æ±‚çš„å·¦å³è¾¹ç•Œ  

## å®šä¹‰

$h[i][j]ï¼š$ $(i,j)$ è¿™ä¸ªç‚¹å¾€ä¸Šæ‹‰çº¿ï¼Œçº¿çš„é¡¶ç«¯èƒ½åˆ°çš„æœ€é«˜ç‚¹  
$lft[i][j]ï¼š$ ä»Ž $(i,j)$ å¾€ä¸Šæ‹‰çº¿ä¹‹åŽï¼Œè¿™æ ¹çº¿èƒ½å¤Ÿç§»åŠ¨åˆ°çš„æœ€å·¦ç‚¹  
$rgt[i][j]ï¼š$ ä»Ž $(i,j)$ å¾€ä¸Šæ‹‰çº¿ä¹‹åŽï¼Œè¿™æ ¹çº¿èƒ½å¤Ÿç§»åŠ¨åˆ°çš„æœ€å³ç‚¹  

## æ±‚æ³•
  
é¦–å…ˆå¦‚æžœ $(i,j)$ æ»¡è¶³è¦æ±‚ï¼Œ $lft[i][j]$ å’Œ $rgt[i][j]$ éƒ½åº”è®¾ä¸ºå½“å‰çš„æ¨ªåæ ‡ $j$ ï¼ŒåŒæ—¶ $h[i][j]$ è®¾ä¸º $1$   
å¦‚æžœä¸æ»¡è¶³çš„è¯å°±éƒ½æ˜¯ $0$ å°±å¥½  
  
ç„¶åŽå°±æ˜¯æœ´ç´ çš„é€’æŽ¨æ‰©å±•    
å¦‚æžœå·¦ä¾§æ»¡è¶³çš„è¯ï¼š $lft[i][j]=lft[i][j-1]$  
å¦‚æžœå³ä¾§æ»¡è¶³çš„è¯ï¼š $rgt[i][j]=rgt[i][j+1]$  
å¦‚æžœä¸Šä¾§æ»¡è¶³çš„è¯ï¼š $h[i][j]=h[i-1][j]+1$  
  
ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æžœå‡ºçŽ°è¿™ç§æƒ…å†µ  
$$\begin{matrix}
&1&1&1&1&1&1&1\\
&1&1&0&1&0&1&1\\
&0&1&1&x&1&1&0\\
&&&&...
\end{matrix}\qquad(x=1)$$  
è¿™æ ·çš„è¯ $x$ å‘ä¸Šæ‹‰çš„çº¿ä¼šè¢«ç¬¬äºŒå±‚ä¸¤ä¾§çš„ $0$ æŒ¡ä½ï¼Œä½†æ˜¯å®ƒå·¦ä¾§å³ä¾§éƒ½ä¼šè®©å®ƒç»§ç»­å»¶ä¼¸  
é‚£ä¹ˆå¦‚æžœä¸Šä¾§ä¹Ÿæ»¡è¶³è¦æ±‚çš„è¯ï¼Œ $x$ ç‚¹æ˜¯éœ€è¦ä»Žä¸Šé¢å»¶ä¼¸çš„ç»§æ‰¿å¹¶æ¯”è¾ƒä¸‹æ¥çš„    
å³ï¼š  
$lft[i][j]=max(lft[i-1][j],lft[i][j])$  
$rgt[i][j]=min(rgt[i-1][j],rgt[i][j])$  

# ç¨‹åº
  
```cpp
const int N = 1e3 + 10;
int Map[N][N];
int lft[N][N], rgt[N][N], up[N][N];

int main () {

        int n, m; cin >> n >> m;
        for ( int i = 1; i <= n; i ++ ) for ( int j = 1; j <= m; j ++ ) cin >> Map[i][j];

        for ( int i = 1; i <= n; i ++ ) {
                for ( int j = 1; j <= m; j ++ )     lft[i][j] = rgt[i][j] = j * (Map[i][j] == 1), up[i][j] = (Map[i][j] == 1);
                for ( int j = 2; j <= m; j ++ )     if ( Map[i][j] && Map[i][j - 1] ) lft[i][j] = lft[i][j - 1]; 
                for ( int j = m - 1; j >= 0; j -- ) if ( Map[i][j] && Map[i][j + 1] ) rgt[i][j] = rgt[i][j + 1]; 
                if ( i >= 2 ) 
                        for ( int j = 1; j <= m; j ++ ) 
                                if ( Map[i][j] && Map[i - 1][j] ) 
                                        up[i][j] = up[i - 1][j] + 1,
                                        lft[i][j] = max(lft[i][j], lft[i - 1][j]),
                                        rgt[i][j] = min(rgt[i][j], rgt[i - 1][j]);
        }
        int res1 = 0, // æ­£æ–¹å½¢
            res2 = 0; // é•¿æ–¹å½¢
        for ( int i = 1; i <= n; i ++ ) {
                for ( int j = 1; j <= n; j ++ ) {
                        res1 = max(res1, min(up[i][j], rgt[i][j] - lft[i][j] + 1) * min(up[i][j], rgt[i][j] - lft[i][j] + 1) ),
                        res2 = max(res2, up[i][j] * (rgt[i][j] - lft[i][j] + 1)); 
                }
        }
        cout << res1 << endl << res2 << endl;
}
```
